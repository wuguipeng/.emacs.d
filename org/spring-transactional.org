#+TITLE: SpringBoot Transactional
#+AUTHOR: wuguipeng
#+DATE: <2022-08-11 四>

* SpringBoot Transactional
** SpringBoot Transactional 失效问题
*** SpringBoot 内部方法调用事物失效问题
   1. 问题：外部经过Spring容器调用Service时，会经过Spring代理事物才会生效。在Service
      内部直接调用内部方法，是不会经过Spring代理的，所以会造成调用内部方法事物失效问题。
   2. 原因：主要原因是Spring事物实现原理是通过AOP，而AOP是通过动态代理，在只调用的过程中,
      是类自身的调用，不是通过Spring代理调用，所以事物会失效。
   3. 解决方法：比较常用的方法是通过依赖注入，将自身注入进来，然后通过BeanName.方法名的方
      式调用，这样就能经过Spring AOP代理，就能解决内部方法调用事物失效的问题。不过这种方法
      不够优雅。
